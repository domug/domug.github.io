I"1<p>A/B Test는 실험하고자 하는 기능에 대한 <strong>인과적인 효과</strong>를 파악하기 위해서 수행된다.</p>

<p>&gt;&gt; e.g. 결제 버튼의 폰트 색깔을 검정색에서 회색으로 바꾸었을 때 전환율이 $x$%만큼 증가 / 감소.</p>

<p>그리고 이를 가능케 하는 이론적 배경은 바로 <strong>무작위 배정 (randomization)</strong> 이며, A/B Test에서 해당 개념의 중요성은 아무리 강조해도 충분치 않다.</p>

<p>A/B Test가 진행되는 과정에서 유저들은 시험군과 대조군에 완벽하게 랜덤하게 배정된다. 비록 사소해보일 수 있으나, 이로 인해 두 실험 그룹의 유저들은 실험하고자 하는 기능을 제외한 나머지 모든 요인들이 동일한 수준으로 통일된다 (추후 구체적인 수식을 통해서 다시 살펴볼 예정이다). 따라서 무작위 배정이 수행된 A/B Test를 바탕으로 얻은 결과에서 결과변수가 $x$ 만큼 변했다는 것은, 우리가 실험하고자 하는 기능이 바로 그 $x$ 만큼의 변화를 발생시킨 “원인”이라는 것과 일맥상통하게 된다.</p>

<p>이렇게 무작위 배정을 통해 수집된 데이터를 바탕으로 결론을 도출하는 일련의 절차를 통계학에서는 <strong>“실험 연구”</strong>라고 하며, 실험 연구는 인과적인 결론을 도출하기 위한 <strong>유일한</strong> 방법으로 여겨진다.</p>

<p> </p>

<p>그럼에도 불구하고, 현실적인 이유들로 인해 무작위 배정을 진행하기가 어려운 경우 역시 많을 수 있다.</p>

<ul>
  <li>
    <p>항암제에 대한 3상 임상 시험에서, 무작위 배정을 바탕으로 대조군에 배정된 환자에게 위약 (placebo) 을 투약하는 것은 윤리적인 이유로 불가능하다.</p>
  </li>
  <li>
    <p>결과 변수를 통제할 수 없는 경우가 있다 (e.g. user behaviour)</p>
  </li>
  <li>
    <p>구글의 검색엔진에서 광고를 제거하는 것처럼 대조군을 설정하기 위한 비용이 너무 큰 경우가 있다.</p>
  </li>
</ul>

<p>이러한 상황들에서 수집되는 데이터는 여러 외부 요인들의 영향력이 공평한 수준으로 보정되지 않았기 때문에, 실험의 결과에서 인과성을 주장할 수 <strong>없다</strong>. 이처럼 실험 연구와는 반대로 무작위 배정이 수행되지 않은 데이터를 바탕으로 결론을 도출하는 연구를 통계학에서는 <strong>“관찰 연구 (observation studies)”</strong> 라고 표현한다.</p>

<p> </p>

<p>그렇다면 여러 이유들로 인해 무작위 배정이 이뤄지지 않은 <strong>관찰 연구의 데이터</strong>로부터 인과적인 결론을 도출할 수 있는 방법은 없을까?</p>

<p>이러한 물음에 대한 탐구로, 해당 포스트에서는 <strong>observational causal inference (인과적 추론)</strong> 라는 통계학의 한 분야를 살펴볼 예정이다. 해당 분야의 선구자는 하버드 대학교의 <a href="https://scholar.google.com/citations?user=5q4fhUoAAAAJ&amp;hl=en">Donald Rubin</a> 교수인데, 그는 다소 추상적이고 애매모호했던 “인과성”의 개념을 수학적으로 명확히 정립하고, 이를 바탕으로 <strong>성향점수분석 (Propensity Score Analysis)</strong> 이라는 방법론을 개발한 것으로 유명하다. 2022년 7월 기준으로 그의 <a href="https://www.researchgate.net/publication/243082748_The_Central_Role_of_the_Propensity_Score_in_Observational_Studies_For_Causal_Effects">논문</a>의 피인용수가 32,000 건을 넘어간다는 점은 해당 연구가 사회과학 전반에 걸쳐 얼마나 큰 영향력을 가졌는지를 여실히 보여준다.</p>

<p> </p>

<p>인과적 추론을 위한 통계 방법론의 핵심은 결국 관찰 연구 데이터로부터 “인과성”을 발견하는 것이다. 그리고 이를 위해서는 여러 <strong>가정 사항</strong>들이 필요하다. 당연히 공짜 점심은 없기 때문에, 무작위 배정이 수행되지 않은 것을 보정하기 위해 필요한 가정들은 다소 비현실적 측면이 있다 (추후에 구체적으로 살펴보겠다). 그래서 이러한 방법론들을 비판하는 사람들도 많은데, 필자도 개인적으로는 이러한 방법론들이 분명한 한계점을 갖고 있다고 생각한다.</p>

<p>그럼에도 불구하고 인과적 추론의 프레임워크를 이해하는 것은 A/B Test를 설계하고 결과를 분석함에 있어서 식견을 넓힐 수 있는 좋은 기회라고 생각한다. 이러한 맥락에서 해당 포스트에서는 인과적 추론을 이해하기 위한 기본적인 개념들과 프레임워크, 그리고 이를 바탕으로 Rubin이 제안한 <strong>성향 점수 분석</strong>에 대해 대략적으로 살펴볼 예정이다.</p>

<p> </p>

<hr />

<p>&lt;/center&gt;</p>

<p> </p>

<hr />

<h1 id="reference">Reference</h1>

<ul>
  <li>Casella, G., &amp; Berger, R. L. (2002). <em>Statistical inference.</em> 2nd ed. Australia ; Pacific Grove, CA: Thomson Learning.</li>
</ul>

:ET