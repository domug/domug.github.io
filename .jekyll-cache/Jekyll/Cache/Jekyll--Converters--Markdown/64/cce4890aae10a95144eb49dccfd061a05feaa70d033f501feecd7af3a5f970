I"<p>해당 포스트를 시작으로 A/B Test를 설계 및 진행함에 있어 필요한 통계학의 기초적인 개념들을 간단하게 리뷰하는 시간을 가져보려고 한다. 사실 통계학의 내용들이 휘발성이 강한 측면이 있기 때문에 세세한 수식 보다는 전공자로서 공부를 하면서 느꼈던 점들을 직관적인 아이디어 위주로 정리할 예정이다.</p>

<p> </p>

<h2 id="11-결국-시작은-데이터이다">1.1. 결국 시작은 데이터이다.</h2>

<p>통계학은 데이터를 바탕으로 의사결정을 내리는 학문이다. 이전 포스트들에서 이미 다룬적이 있지만, 통계학에서 다루는 작업의 범주는 크게 “<strong>추정</strong>”, “<strong>검정</strong>”, “<strong>예측</strong>“의 세가지 범주로 분류될 수 있는데, 학부 수준의 통계학 수업들에서는 주어진 데이터를 요리조리 잘 사용해서 관측되지 않은 모수 (parameter) 를 추론하는 과정에 대해 공부한다.</p>

<p>하지만 이 과정에서 크게 등한시되는 부분은 바로 “<strong>데이터</strong>” 그 자체라고 생각한다. 우리가 통계학을 공부하는 대부분의 상황들에서는 <strong>데이터가 이미 주어졌다는 가정</strong>하에 논의가 이루어진다. 예를 들어, 수리통계학에서 등장하는 단골 문제 중 하나는 데이터 $X_1, \dots, X_n$이 주어졌을 때, 이를 바탕으로 MLE를 구하거나 MVUE 등을 구하는 식의 문제이다.</p>

<p>이러한 맥락에서 대학원 생활을 하면서 느꼈던 큰 부분 중에 하나는 종종 연구의 성과에 있어서 복잡하고 발전된 모델을 사용하려는 노력보다 <strong>어떻게 하면 양질의 데이터를 사용할 수 있을지에 대한 고민</strong>이 훨씬 유효한 경우가 있다는 점이다. 돌이켜보니 이러한 이유로 석사 과정의 연구 분야를 아웃라이어 탐지 쪽으로 잡은 것도 없잖아 있는 것 같다.</p>

<p>예전에 수업을 수강했던 어떤 교수님께서는 통계학자를 종종 요리사에 비유하고는 하셨다. 요리사가 음식을 만드려고 하는데 주어진 식재료가 전부 상했다면 제 아무리 백종원이라도 퀄리티 좋은 음식을 만들기는 어려울 것이다. 또한 아무리 극상의 식재료가 있다 하더라도, 식재료 각각에 맞는 전처리 과정을 거치지 않으면 그 자체로는 아무런 의미가 없을 것은 자명하다.</p>

<p>마찬가지로 통계학은 무에서 유를 창조하는 학문이 아니기에, 통계학을 제대로 공부한 사람이라면 “<strong>데이터 수집</strong>“이라는 첫 단추를 잘 끼워 넣는데에 충분한 시간을 할애해야 한다. 그렇다면 본격적으로 <strong>인과관계</strong>의 측면에서 다시 한번 데이터 수집이 왜 중요한지에 대해 살펴보도록 하겠다.</p>

<p> </p>

<h2 id="12-데이터를-수집하는-방법-관찰-연구-vs-실험-연구">1.2. 데이터를 수집하는 방법: 관찰 연구 vs 실험 연구</h2>

<p>통계적 의사결정 과정은 데이터를 수집하는 방법에 따라 크게 “<strong>관찰 연구</strong>“와 “<strong>실험 연구</strong>” 두 가지로 구분할 수 있다.</p>

<p>첫 번째로 관찰 연구란, 수집될 데이터에 영향을 미칠 수 있을 것이라고 생각되는 여러 변수들을 연구자가 의도적으로 조작할 수 <strong>없는</strong> 경우를 의미합니다. 말이 좀 어려운데요, 간단한 예시를 들어보겠습니다. 가령 새롭게 개발된 카카오 선물하기의 UI가 더 많은 매출을 가져올 수 있을지에 대해 관심이 있다고 해봅시다. 이를 판단하기 위해 새로운 UI를 적용하기 전/후의 매출에 대해 각각 유저들로부터 데이터를 수집한 뒤, 그 평균의 차이를 비교해보았습니다. 그 결과, 새로운 UI를 적용한 뒤에 평균적으로 약 10% 정도 매출이 증가했다는 사실이 확인됐습니다. 그렇다면 이 경우, “<strong>새로운 UI의 도입이 매출의 상승으로 이어졌다!</strong>” 라는 결론을 내릴 수 있을까요? 결론부터 말하자면, <strong>그렇지 않습니다</strong>. 예를 들어, 매출이 증가한 이유가 UI의 변화 때문이 아니라 코로나의 영향으로 인해 언택트 생활이 보편화되면서 단순히 카카오 선물하기를 이용하는 고객의 수가 늘어났기 때문일 수도 있습니다. 또는 새로운 UI를 사용한 유저들이 카카오 선물하기의 기능에 훨씬 더 익숙한 젊은 층이었을 수도 있겠습니다. 이와 같이 데이터가 수집되는 과정에서 연구자가 아무런 개입을 하지 않는 것이 <strong>관찰 연구</strong>인데요, 뒤에 다시 말씀드리겠지만, 관찰 연구를 바탕으로 얻어진 결론에서는 절대로 <strong>인과 관계 (ex. A이면 B이다) 를 주장할 수 없습니다</strong>.</p>

<p>자 그럼 두 번째로, <strong>실험 연구</strong>에 대해 살펴보겠습니다. 실험 연구는 관찰 연구와는 반대로, 연구자가 데이터의 수집 과정에 적극적으로 개입해서 <strong>관심 변수에 영향을 미칠 것이라고 생각되는 모든 변수들의 효과를 일정한 수준으로 컨트롤 하는 것</strong>을 의미합니다. 앞선 예시를 다시 사용해서 말씀드리자면 “매출”이라는 관심 변수에 대해 “새로운 UI”만의 순수한 영향력을 파악하기 위해서 나이, 시간 등 다른 모든 잠재적인 변수들을 동일한 수준으로 관리하는 경우가 이에 해당됩니다. 이렇게 진행된 실험 연구의 가장 큰 장점은 바로 <strong>인과 관계</strong>를 주장할 수 있다는 점인데요, 검증하고자 하는 변수를 제외한 나머지 모든 변수들의 효과들이 전부 동일하게 맞춰졌기 때문에 “<strong>새로운 UI의 도입이 원인이 되어 10%의 매출 상승이 나타났다!”</strong> 와 같은 인과적인 결론을 내릴 수 있게 되는 것입니다.</p>

<p>하지만, 사실 실험자가 의도적으로 모든 변수들을 동일한 수준으로 맞춰주는 것은 현실적으로 불가능합니다. 특히 카카오와 같이 서비스의 대상이 사람인 경우 더더욱 그런데요, 그럼에도 불구하고 저희는 많은 경우 인과적인 수준(causal statement) 에서 결론을 내리기를 원합니다. 그렇다면 이는 불가능한 것일까요? 그렇지 않습니다. 우리에게는 “<strong>무작위 배정 (random assignment)”</strong>이란 간단하지만 아주 강력한 무기가 있기 때문입니다.</p>

:ET